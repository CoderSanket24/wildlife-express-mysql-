<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div class="bg-animation">
        <!-- Floating leaves will be generated by JavaScript -->
    </div>
    <div class="container">
        <a href="/" class="back-btn">‚Üê Back to Dashboard</a>
        <!-- Medical Section -->
        <div id="medical" class="content-section">
            <h2 class="section-title">üè• Medical & Feeding Logs</h2>
        
            <div class="stats-container">
                <div class="stat-item">
                    <div class="stat-number">89</div>
                    <div class="stat-label">Health Checkups</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">1,250</div>
                    <div class="stat-label">kg Food/Day</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Active Treatments</div>
                </div>
            </div>
        
            <button class="add-btn">+ Add Medical Record</button>
            <button class="add-btn">+ Log Feeding</button>
        
            <div class="data-grid">
                <% if (checkups) { %>
                    <% checkups.forEach(checkup => { %>
                    <div class="data-card">
                        <div class="card-header">
                            <span class="icon">ü©∫</span>Animal ID: <%= checkup.animal_id %>
                        </div>
                        <div class="card-content">
                            <p><strong>Last Checkup:</strong> <%= new Date(checkup.checkup_date).toLocaleDateString() %></p>
                            <p><strong>Health Status:</strong> <%= checkup.health_status %></p>
                            <p><strong>Weight:</strong> <%= checkup.weight_kg %> kg</p>
                            <p><strong>Vaccination:</strong> <%= checkup.vaccination_status %></p>
                            <p><strong>Next Checkup:</strong> <%= new Date(checkup.next_checkup_date).toLocaleDateString() %></p>
                        </div>
                    </div>
                    <% }); %>
                <% } %>

                <% if (treatments) { %>
                    <% treatments.forEach(treatment => { %>
                    <div class="data-card">
                        <div class="card-header">
                            <span class="icon">üíä</span>Treatment Log - Animal ID: <%= treatment.animal_id %>
                        </div>
                        <div class="card-content">
                            <p><strong>Condition:</strong> <%= treatment.condition %></p>
                            <p><strong>Treatment Started:</strong> <%= new Date(treatment.treatment_start_date).toLocaleDateString() %></p>
                            <p><strong>Medication:</strong> <%= treatment.medication %></p>
                            <p><strong>Progress:</strong> <%= treatment.treatment_progress %></p>
                            <p><strong>Expected Recovery:</strong> <%= new Date(treatment.expected_recovery_date).toLocaleDateString() %></p>
                        </div>
                    </div>
                    <% }); %>
                <% } %>

                <% if (logs) { %>
                    <% logs.forEach(log => { %>
                    <div class="data-card">
                        <div class="card-header">
                            <span class="icon">ü•©</span><%= log.schedule_name %>
                        </div>
                        <div class="card-content">
                            <p><strong>Date:</strong> <%= new Date(log.feeding_date).toLocaleDateString() %></p>
                            <p><strong>Food Type:</strong> <%= log.food_type %></p>
                            <p><strong>Quantity:</strong> <%= log.quantity_kg %> kg total</p>
                            <p><strong>Fed By:</strong> Staff ID: <%= log.staff_id %></p>
                            <p><strong>Time:</strong> <%= log.feeding_time %></p>
                        </div>
                    </div>
                    <% }); %>
                <% } %>
            </div>
        </div>
    </div>
    <script src="../app.js"></script>
</body>
</html>